<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Manual Blockly para Dash</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>ğŸ¤– Manual Blockly â€“ RobÃ´ Dash</h1>
    <p>Interativo, prÃ¡tico e divertido. Aprenda com vÃ­deos, Ã¡udio, Blockly e animaÃ§Ãµes!</p>
  </header>


  <main>
    <!-- ComeÃ§ar com passos -->
    <section class="card passos">
      <h2>ğŸš€ ComeÃ§ar</h2>
     
      <div class="passo">
        <button onclick="mostrarConteudo('ligar')">1ï¸âƒ£ Ligar o RobÃ´</button>
        <div class="conteudo" id="ligar">
          <p>Pressione o botÃ£o central na cabeÃ§a do Dash atÃ© ele acender.</p>
          <video controls src="videos/ligar-dash.mp4"></video>
          <button class="audio-btn" onclick="playAudio('audio/ligar.mp3')">ğŸ”Š Dica em Ã¡udio</button>
        </div>
      </div>


      <div class="passo">
        <button onclick="mostrarConteudo('conectar')">2ï¸âƒ£ Conectar ao App</button>
        <div class="conteudo" id="conectar">
          <p>Abra o app Blockly e toque no Ã­cone do Dash para conectar via Bluetooth.</p>
          <img src="imagens/conectar-app.png" alt="Conectar App Blockly" />
          <button class="audio-btn" onclick="playAudio('audio/conectar.mp3')">ğŸ”Š Dica em Ã¡udio</button>
        </div>
      </div>


      <div class="passo">
        <button onclick="mostrarConteudo('criar')">3ï¸âƒ£ Criar Projeto</button>
        <div class="conteudo" id="criar">
          <p>Toque em â€œNovo Projetoâ€ no app para comeÃ§ar a programar!</p>
          <video controls src="videos/criar-projeto.mp4"></video>
          <button class="audio-btn" onclick="playAudio('audio/criar.mp3')">ğŸ”Š Dica em Ã¡udio</button>
        </div>
      </div>
    </section>


    <!-- Blockly interativo -->
    <section class="card">
      <h2>ğŸ“¦ Experimente Blockly</h2>
      <!-- Exemplo embed: adaptar para seu app Blockly se disponÃ­vel -->
      <p>Arraste os blocos abaixo para montar o cÃ³digo:</p>
      <div id="blocklyDiv" style="height: 400px; width: 100%;"></div>
      <button onclick="gerarCodigoBlockly()">Gerar cÃ³digo JavaScript</button>
      <pre id="codigoBlockly"></pre>
    </section>


    <!-- AnimaÃ§Ã£o SVG do Dash -->
    <section class="card">
      <h2>ğŸ¨ AnimaÃ§Ã£o do Dash</h2>
      <svg id="dashSvg" viewBox="0 0 200 100">
        <!-- RepresentaÃ§Ã£o simples -->
        <circle id="dashBody" cx="50" cy="50" r="30" fill="#00BCD4"/>
        <circle id="dashEye" cx="60" cy="40" r="5" fill="#fff"/>
      </svg>
      <button onclick="animarDash()">Fazer Dash piscar e andar</button>
    </section>


    <!-- VariÃ¡vel + interativo -->
    <section class="card">
      <h2>ğŸ§ª Teste vocÃª mesmo â€“ VariÃ¡vel</h2>
      <label for="valorPassos">Quantos passos?</label>
      <input type="number" id="valorPassos" value="3" min="1" max="10">
      <button onclick="mostrarComando()">Gerar CÃ³digo</button>
      <pre id="saidaCodigo"></pre>
    </section>
  </main>


  <footer>
    <p>&copy; 2025 Manual Blockly para Dash ğŸ¤–</p>
  </footer>


  <script src="https://unpkg.com/blockly/blockly.min.js"></script>
  <script>
    // InteraÃ§Ã£o dos passos
    function mostrarConteudo(id) {
      document.querySelectorAll('.conteudo').forEach(el => el.style.display = 'none');
      document.getElementById(id).style.display = 'block';
    }


    function playAudio(src) {
      new Audio(src).play();
    }


    // Blockly
    const workspace = Blockly.inject('blocklyDiv', {
      toolbox: `<xml>
        <block type="variables_set"></block>
        <block type="math_number"></block>
        <block type="controls_repeat_ext"></block>
        <block type="procedures_defnoreturn"></block>
      </xml>`
    });


    function gerarCodigoBlockly() {
      const code = Blockly.JavaScript.workspaceToCode(workspace);
      document.getElementById('codigoBlockly').textContent = code;
    }


    // AnimaÃ§Ã£o SVG
    function animarDash() {
      const eye = document.getElementById('dashEye');
      const body = document.getElementById('dashBody');
      eye.setAttribute('fill', '#000');
      setTimeout(() => eye.setAttribute('fill', '#fff'), 200);
      body.animate([{ transform: 'translateX(0px)' }, { transform: 'translateX(50px)' }], {
        duration: 1000,
        fill: 'forwards'
      });
    }


    // VariÃ¡vel
    function mostrarComando() {
      const valor = document.getElementById("valorPassos").value;
      document.getElementById("saidaCodigo").textContent =
`definir passos para ${valor}
repita passos vezes:
    Dash anda para frente`;
    }
  </script>
</body>
</html>

